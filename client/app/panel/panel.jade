#panel-container
  core-toolbar.medium-tall(style="height: 90px")
    paper-icon-button(icon="menu",role="button",tabindex="0",aria-label="menu")
    div(flex="") {{ 'TITLE' | translate }}
    div(dropdown="")
      paper-button.dropdown-toggle(role="button",tabindex="0") LANGUAGE
      ul.dropdown-menu(role="menu",style="right:280px;left:auto;")
        li
          a(ng-click="setLanguage('en')") English
          a(ng-click="setLanguage('ru')") Russian
    paper-button(role="button",tabindex="0",ng-click="state.go('panel.leaderboard')") Leaderboards
    div(dropdown="")
      paper-button.dropdown-toggle(role="button",tabindex="0") {{auth.currentUser.profile.name}}
      ul.dropdown-menu(role="menu",style="right:0;left:auto;")
        li
          a(ui-sref="panel.profile") {{ 'Profile' | translate }}
          a(href="/auth/logout",ng-click="$event.stopPropagation()") {{ 'Sign Out' | translate }}
    .bottom.fit(horizontal="",layout="",style="height: 35px")
      div(style="width: 100%;height:100%;font-size:12px;float:left",ng-if="state.current.name!=='panel.chat'")
        paper-button(role="button",style="height:100%",ng-click="state.go('panel.chat')") {{ 'Chat' | translate }}
        paper-button(role="button",style="height:100%",ng-click="state.go('panel.leaderboard')") {{ 'Leaderboards' | translate }}
      div(style="width:100%;height:100%;float:left",ng-if="state.current.name==='panel.chat'")
        paper-tabs(ng-model="chatTabs.selected",flex="",style="",role="tablist")
          paper-tab(ng-repeat="chat in chats") 
            | {{chat.Name}}
        div(style="width: 100px;position:relative;top:-5px;float:left")
          paper-icon-button(icon="add", role="button", ng-click="showJoinDialog()")
          paper-icon-button(icon="close", role="button", ng-disabled="!chats[chatTabs.selected].Leavable", ng-click="leaveCurrentChat()")
  #panelInnerContainer(ui-view="")
  #rightcont(ng-if="showRightCont()")
    .mains
      live-matches(ng-if="liveMatches.length>0",ng-match-types="MatchTypeNS",ng-model="liveMatches",ng-game-modes="GameModeN")
      match-game(ng-repeat="game in games|filter:gameFilter",ng-model="game",ng-game-modes="GameModeN",ng-match-types="MatchTypeNS",ng-in-game="isInGame(game)",ng-pressed-join="joinGame(game)",ng-picked-player="pickPlayer($event)",ng-setup-statusn="SetupStatusN",ng-captain-statusn="CaptainStatusN",ng-can-join="!isInGame()", ng-steamid="auth.currentUser.steam.steamid",ng-match-states="MatchStateN")
      pending-challenge(ng-if="network.activeChallenge!=null")
      match-result(ng-if="network.activeResult!=null",ng-model="network.activeResult")
    .btns(ng-if="isAdminOfGame()&&network.activeMatch.Setup==null&&network.activeMatch.Info.Status==0")
      paper-button.primary-btn(raisedButton,ng-click="network.matches.do.startmatch()") {{ 'Start' | translate }}
      paper-button.danger-btn(raisedButton,ng-click="network.matches.do.leavematch()") {{ 'Cancel' | translate }}
    .btns(ng-if="isAdminOfGame()&&network.activeMatch.Setup!=null&&network.activeMatch.Info.Status<3")
      paper-button.primary-btn(raisedButton,ng-click="network.matches.do.finalizematch()",ng-if="allAreReady()") {{ 'Start' | translate }} {{ 'Match' | translate }}
      paper-button.danger-btn(raisedButton,ng-click="network.matches.do.leavematch()") {{ 'Cancel' | translate }} {{ 'Match' | translate }}
    .btns(ng-if="isInGame()&&!isAdminOfGame()&&network.activeMatch.Info.Status<1")
      paper-button.danger-btn(raisedButton,ng-click="network.matches.do.leavematch()") {{ 'Leave' | translate }}
    .btns(ng-if="canStartGames()&&!isAdminOfGame()&&network.activeChallenge==null&&network.activeResult==null")
      paper-button(raisedButton,ng-click="createStartgame()") {{ 'Start' | translate }} {{ 'Match' | translate }}
      paper-button(raisedButton,ng-click="createChallenge()") {{ 'Challenge' | translate }} {{ 'Player' | translate }}
    .btns(ng-if="network.activeResult != null && !hasVoted()")
      paper-button(raisedButton,ng-click="network.matches.do.vote(true)") {{ 'Vote' | translate }} RADIANT
      paper-button(raisedButton,ng-click="network.matches.do.vote(false)") {{ 'Vote' | translate }} DIRE
    .btns(ng-if="network.activeResult != null && hasVoted()")
      paper-button(raisedButton,ng-click="network.matches.do.dismissResult()") {{ 'Dismiss' | translate }} {{ 'Result' | translate }}
  paper-toast-fa(icon="fa-sun-o fa-spin",ng-text="network.status",ng-opened="network.disconnected",duration=-1,swipeDisabled=true,autoCloseDisabled=true,backdrop=false,layered=false)
paper-dialog#createMatch(ng-heading="'Create Match' | translate", transition="paper-dialog-transition-bottom", style="width: 400px;")
  p(style="margin-bottom:0")
    | {{ 'Chose your match options' | translate }}:
  div(style="height: 110px")
    div(style="height: 73px")
      paper-input#matchNameInput(floatinglabel="",label="Match Name", required="", error="You must enter a match name.",style="padding: 0")
    paper-dropdown-menu#gameModeInput(label="Game mode",style="position:absolute;padding:0")
      paper-item(ng-repeat="(id, name) in GameModeN", label="{{name}}", value="{{id}}")
  paper-button(ng-click="dismissCreate()", label="Cancel", affirmative="")
  paper-button.primary-btn(ng-click="confirmCreateMatch()", affirmative="", autofocus="") {{'Create' | translate}}
paper-dialog#createChallenge(heading="'Start Challenge' | translate", transition="paper-dialog-transition-bottom", style="width: 400px;")
  p(style="margin-bottom:0")
    | {{ 'Chose your match options' | translate }}:
  div(style="height: 110px")
    div(style="height: 10px")
    div(style="width: 100%;height:40px")
      paper-dropdown-menu#cPlayerInput(label="{{'Player'|translate}}",style="position:absolute;padding:0")
        paper-item(ng-repeat="member in allMembers | filter:notMe", label="{{member.Name}}", value="{{member.SteamID}}")
    div(style="width: 100%")
      paper-dropdown-menu#cgameModeInput(label="{{'Game mode'|translate}}",style="position:absolute;padding:0")
        paper-item(ng-repeat="(id, name) in GameModeN", label="{{name}}", value="{{id}}")
  paper-button(ng-click="dismissChallenge()", label="{{'Cancel' | translate}}", affirmative="")
  paper-button.primary-btn(ng-click="confirmCreateChallenge()", label="{{'Start' | translate}}", affirmative="", autofocus="")
